// Language translations for Snake Game
const languages = {
    en: {
        // Game UI
        title: "üêç Snake Game",
        score: "Score",
        highScore: "High Score",
        level: "Level",
        
        // Overlay messages
        welcomeTitle: "Welcome to Snake!",
        welcomeMessage: "Use arrow keys or WASD to move",
        gameOverTitle: "Game Over!",
        finalScore: "Final Score: {score}",
        newHighScore: "üéâ New High Score! üéâ",
        readyTitle: "Ready to Play?",
        pausedTitle: "PAUSED",
        pausedMessage: "Press SPACE to resume",
        
        // Game Over Modal
        gameOverTitle: "Game Over!",
        finalScore: "Final Score",
        gameTime: "Game Time",
        newAchievement: "New Achievement!",
        newHighScore: "New High Score!",
        congratulations: "Congratulations!",
        viewScoreboard: "View Scoreboard",
        shareScore: "Share Score",
        playAgain: "Play Again",
        
        // Simple Name Input Modal
        enterYourName: "Enter Your Name",
        gameOverScore: "Your Score:",
        enterNamePlaceholder: "Enter your name...",
        submit: "Submit",
        skip: "Skip",
        
        // Game Over Messages
        gameOverGood: "Good game!",
        gameOverGreat: "Great job!",
        gameOverAmazing: "Amazing score!",
        gameOverPerfect: "Perfect game!",
        startGame: "Start Game",
        restart: "Restart",
        pause: "Pause",
        resume: "Resume",
        hide: "Hide",
        show: "Show",
        
        // Controls section
        controlsTitle: "Controls",
        moveSnake: "Move Snake",
        alternativeMovement: "Alternative Movement",
        pauseResume: "Pause/Resume",
        restartGame: "Restart",
        
        // Settings section
        settingsTitle: "Settings",
        darkMode: "Dark",
        lightMode: "Light",
        language: "Language",
        speed: "Speed",
        gridSize: "Grid Size",
        small: "Small",
        medium: "Medium",
        large: "Large",
        sound: "Sound",
        theme: "Theme",
        classic: "Classic",
        dark: "Dark",
        neon: "Neon",
        
        // Scoreboard
        scoreboardTitle: "üèÜ Scoreboard",
        rank: "Rank",
        playerName: "Player",
        points: "Points",
        date: "Date",
        enterName: "Enter your name:",
        anonymous: "Anonymous",
        clearScores: "Clear Scores",
        noScoresYet: "No scores yet. Play a game to get started!",
        
        // Game stats
        gameStats: "Game Statistics",
        gamesPlayed: "Games Played",
        totalScore: "Total Score",
        averageScore: "Average Score",
        bestStreak: "Best Streak",
        timeSpent: "Time Spent",
        
        // Achievements
        achievements: "Achievements",
        firstGame: "First Game",
        score100: "Century Club",
        score500: "High Roller",
        score1000: "Snake Master",
        noDeaths: "Survivor",
        speedDemon: "Speed Demon"
    },
    
    es: {
        // Game UI
        title: "üêç Juego de la Serpiente",
        score: "Puntuaci√≥n",
        highScore: "Puntuaci√≥n M√°xima",
        level: "Nivel",
        
        // Overlay messages
        welcomeTitle: "¬°Bienvenido a la Serpiente!",
        welcomeMessage: "Usa las flechas o WASD para moverte",
        gameOverTitle: "¬°Juego Terminado!",
        finalScore: "Puntuaci√≥n Final: {score}",
        newHighScore: "üéâ ¬°Nueva Puntuaci√≥n M√°xima! üéâ",
        readyTitle: "¬øListo para Jugar?",
        pausedTitle: "PAUSADO",
        pausedMessage: "Presiona ESPACIO para continuar",
        
        // Game Over Modal
        gameOverTitle: "¬°Juego Terminado!",
        finalScore: "Puntuaci√≥n Final",
        gameTime: "Tiempo de Juego",
        newAchievement: "¬°Nuevo Logro!",
        newHighScore: "¬°Nueva Puntuaci√≥n Alta!",
        congratulations: "¬°Felicitaciones!",
        viewScoreboard: "Ver Marcador",
        shareScore: "Compartir",
        playAgain: "Jugar de Nuevo",
        
        // Simple Name Input Modal
        enterYourName: "Ingresa Tu Nombre",
        gameOverScore: "Tu Puntuaci√≥n:",
        enterNamePlaceholder: "Ingresa tu nombre...",
        submit: "Enviar",
        skip: "Omitir",
        
        // Game Over Messages
        gameOverGood: "¬°Buen juego!",
        gameOverGreat: "¬°Excelente trabajo!",
        gameOverAmazing: "¬°Puntuaci√≥n incre√≠ble!",
        gameOverPerfect: "¬°Juego perfecto!",
        startGame: "Iniciar Juego",
        restart: "Reiniciar",
        pause: "Pausar",
        resume: "Continuar",
        hide: "Ocultar",
        show: "Mostrar",
        
        // Controls section
        controlsTitle: "Controles",
        moveSnake: "Mover Serpiente",
        alternativeMovement: "Movimiento Alternativo",
        pauseResume: "Pausar/Continuar",
        restartGame: "Reiniciar",
        
        // Settings section
        settingsTitle: "Configuraci√≥n",
        darkMode: "Oscuro",
        lightMode: "Claro",
        language: "Idioma",
        speed: "Velocidad",
        gridSize: "Tama√±o de Cuadr√≠cula",
        small: "Peque√±o",
        medium: "Mediano",
        large: "Grande",
        sound: "Sonido",
        theme: "Tema",
        classic: "Cl√°sico",
        dark: "Oscuro",
        neon: "Ne√≥n",
        
        // Scoreboard
        scoreboardTitle: "üèÜ Tabla de Puntuaciones",
        rank: "Rango",
        playerName: "Jugador",
        points: "Puntos",
        date: "Fecha",
        enterName: "Ingresa tu nombre:",
        anonymous: "An√≥nimo",
        clearScores: "Limpiar Puntuaciones",
        noScoresYet: "A√∫n no hay puntuaciones. ¬°Juega para empezar!",
        
        // Game stats
        gameStats: "Estad√≠sticas del Juego",
        gamesPlayed: "Juegos Jugados",
        totalScore: "Puntuaci√≥n Total",
        averageScore: "Puntuaci√≥n Promedio",
        bestStreak: "Mejor Racha",
        timeSpent: "Tiempo Jugado",
        
        // Achievements
        achievements: "Logros",
        firstGame: "Primer Juego",
        score100: "Club del Centenario",
        score500: "Gran Apostador",
        score1000: "Maestro Serpiente",
        noDeaths: "Superviviente",
        speedDemon: "Demonio de Velocidad"
    },
    
    fr: {
        // Game UI
        title: "üêç Jeu du Serpent",
        score: "Score",
        highScore: "Meilleur Score",
        level: "Niveau",
        
        // Overlay messages
        welcomeTitle: "Bienvenue au Serpent!",
        welcomeMessage: "Utilisez les fl√®ches ou WASD pour bouger",
        gameOverTitle: "Jeu Termin√©!",
        finalScore: "Score Final: {score}",
        newHighScore: "üéâ Nouveau Meilleur Score! üéâ",
        readyTitle: "Pr√™t √† Jouer?",
        pausedTitle: "EN PAUSE",
        pausedMessage: "Appuyez sur ESPACE pour reprendre",
        
        // Game Over Modal
        gameOverTitle: "Jeu Termin√©!",
        finalScore: "Score Final",
        gameTime: "Temps de Jeu",
        newAchievement: "Nouveau Succ√®s!",
        newHighScore: "Nouveau Record!",
        congratulations: "F√©licitations!",
        viewScoreboard: "Voir Classement",
        shareScore: "Partager",
        playAgain: "Rejouer",
        
        // Simple Name Input Modal
        enterYourName: "Entrez Votre Nom",
        gameOverScore: "Votre Score:",
        enterNamePlaceholder: "Entrez votre nom...",
        submit: "Soumettre",
        skip: "Passer",
        
        // Game Over Messages
        gameOverGood: "Bon jeu!",
        gameOverGreat: "Excellent travail!",
        gameOverAmazing: "Score incroyable!",
        gameOverPerfect: "Jeu parfait!",
        startGame: "Commencer le Jeu",
        restart: "Red√©marrer",
        pause: "Pause",
        resume: "Reprendre",
        hide: "Masquer",
        show: "Afficher",
        
        // Controls section
        controlsTitle: "Contr√¥les",
        moveSnake: "D√©placer le Serpent",
        alternativeMovement: "Mouvement Alternatif",
        pauseResume: "Pause/Reprendre",
        restartGame: "Red√©marrer",
        
        // Settings section
        settingsTitle: "Param√®tres",
        darkMode: "Sombre",
        lightMode: "Clair",
        language: "Langue",
        speed: "Vitesse",
        gridSize: "Taille de Grille",
        small: "Petit",
        medium: "Moyen",
        large: "Grand",
        sound: "Son",
        theme: "Th√®me",
        classic: "Classique",
        dark: "Sombre",
        neon: "N√©on",
        
        // Scoreboard
        scoreboardTitle: "üèÜ Tableau des Scores",
        rank: "Rang",
        playerName: "Joueur",
        points: "Points",
        date: "Date",
        enterName: "Entrez votre nom:",
        anonymous: "Anonyme",
        clearScores: "Effacer les Scores",
        noScoresYet: "Aucun score pour le moment. Jouez pour commencer!",
        
        // Game stats
        gameStats: "Statistiques du Jeu",
        gamesPlayed: "Jeux Jou√©s",
        totalScore: "Score Total",
        averageScore: "Score Moyen",
        bestStreak: "Meilleure S√©rie",
        timeSpent: "Temps Pass√©",
        
        // Achievements
        achievements: "Succ√®s",
        firstGame: "Premier Jeu",
        score100: "Club du Centenaire",
        score500: "Gros Joueur",
        score1000: "Ma√Ætre Serpent",
        noDeaths: "Survivant",
        speedDemon: "D√©mon de Vitesse"
    },
    
    de: {
        // Game UI
        title: "üêç Schlangen Spiel",
        score: "Punkte",
        highScore: "H√∂chstpunktzahl",
        level: "Level",
        
        // Overlay messages
        welcomeTitle: "Willkommen bei Schlange!",
        welcomeMessage: "Verwende Pfeiltasten oder WASD zum Bewegen",
        gameOverTitle: "Spiel Vorbei!",
        finalScore: "Endpunktzahl: {score}",
        newHighScore: "üéâ Neue H√∂chstpunktzahl! üéâ",
        readyTitle: "Bereit zum Spielen?",
        pausedTitle: "PAUSIERT",
        pausedMessage: "Dr√ºcke LEERTASTE zum Fortsetzen",
        
        // Game Over Modal
        gameOverTitle: "Spiel Beendet!",
        finalScore: "Endpunktzahl",
        gameTime: "Spielzeit",
        newAchievement: "Neue Errungenschaft!",
        newHighScore: "Neuer Rekord!",
        congratulations: "Herzlichen Gl√ºckwunsch!",
        viewScoreboard: "Bestenliste",
        shareScore: "Teilen",
        playAgain: "Nochmal Spielen",
        
        // Simple Name Input Modal
        enterYourName: "Geben Sie Ihren Namen Ein",
        gameOverScore: "Ihre Punktzahl:",
        enterNamePlaceholder: "Geben Sie Ihren Namen ein...",
        submit: "Senden",
        skip: "√úberspringen",
        
        // Game Over Messages
        gameOverGood: "Gutes Spiel!",
        gameOverGreat: "Gro√üartige Arbeit!",
        gameOverAmazing: "Erstaunliche Punktzahl!",
        gameOverPerfect: "Perfektes Spiel!",
        startGame: "Spiel Starten",
        restart: "Neustart",
        pause: "Pause",
        resume: "Fortsetzen",
        hide: "Verstecken",
        show: "Zeigen",
        
        // Controls section
        controlsTitle: "Steuerung",
        moveSnake: "Schlange Bewegen",
        alternativeMovement: "Alternative Bewegung",
        pauseResume: "Pause/Fortsetzen",
        restartGame: "Neustart",
        
        // Settings section
        settingsTitle: "Einstellungen",
        darkMode: "Dunkel",
        lightMode: "Hell",
        language: "Sprache",
        speed: "Geschwindigkeit",
        gridSize: "Rastergr√∂√üe",
        small: "Klein",
        medium: "Mittel",
        large: "Gro√ü",
        sound: "Ton",
        theme: "Design",
        classic: "Klassisch",
        dark: "Dunkel",
        neon: "Neon",
        
        // Scoreboard
        scoreboardTitle: "üèÜ Bestenliste",
        rank: "Rang",
        playerName: "Spieler",
        points: "Punkte",
        date: "Datum",
        enterName: "Namen eingeben:",
        anonymous: "Anonym",
        clearScores: "Punkte L√∂schen",
        noScoresYet: "Noch keine Punkte. Spiele ein Spiel um zu beginnen!",
        
        // Game stats
        gameStats: "Spielstatistiken",
        gamesPlayed: "Gespielte Spiele",
        totalScore: "Gesamtpunktzahl",
        averageScore: "Durchschnittspunktzahl",
        bestStreak: "Beste Serie",
        timeSpent: "Verbrachte Zeit",
        
        // Achievements
        achievements: "Erfolge",
        firstGame: "Erstes Spiel",
        score100: "Hundert Club",
        score500: "Gro√üer Spieler",
        score1000: "Schlangen Meister",
        noDeaths: "√úberlebender",
        speedDemon: "Geschwindigkeitsd√§mon"
    },
    
    vi: {
        // Game UI
        title: "üêç Tr√≤ Ch∆°i R·∫Øn SƒÉn M·ªìi",
        score: "ƒêi·ªÉm",
        highScore: "ƒêi·ªÉm Cao Nh·∫•t",
        level: "C·∫•p ƒê·ªô",
        
        // Overlay messages
        welcomeTitle: "Ch√†o M·ª´ng ƒê·∫øn V·ªõi R·∫Øn SƒÉn M·ªìi!",
        welcomeMessage: "S·ª≠ d·ª•ng ph√≠m m≈©i t√™n ho·∫∑c WASD ƒë·ªÉ di chuy·ªÉn",
        gameOverTitle: "Tr√≤ Ch∆°i K·∫øt Th√∫c!",
        finalScore: "ƒêi·ªÉm Cu·ªëi: {score}",
        newHighScore: "üéâ K·ª∑ L·ª•c M·ªõi! üéâ",
        readyTitle: "S·∫µn S√†ng Ch∆°i?",
        pausedTitle: "T·∫†M D·ª™NG",
        pausedMessage: "Nh·∫•n SPACE ƒë·ªÉ ti·∫øp t·ª•c",
        
        // Game Over Modal
        gameOverTitle: "Tr√≤ Ch∆°i K·∫øt Th√∫c!",
        finalScore: "ƒêi·ªÉm Cu·ªëi",
        gameTime: "Th·ªùi Gian Ch∆°i",
        newAchievement: "Th√†nh T·ª±u M·ªõi!",
        newHighScore: "K·ª∑ L·ª•c M·ªõi!",
        congratulations: "Ch√∫c M·ª´ng!",
        viewScoreboard: "Xem B·∫£ng ƒêi·ªÉm",
        shareScore: "Chia S·∫ª",
        playAgain: "Ch∆°i L·∫°i",
        
        // Simple Name Input Modal
        enterYourName: "Nh·∫≠p T√™n C·ªßa B·∫°n",
        gameOverScore: "ƒêi·ªÉm C·ªßa B·∫°n:",
        enterNamePlaceholder: "Nh·∫≠p t√™n c·ªßa b·∫°n...",
        submit: "G·ª≠i",
        skip: "B·ªè Qua",
        
        // Game Over Messages
        gameOverGood: "Ch∆°i t·ªët!",
        gameOverGreat: "Xu·∫•t s·∫Øc!",
        gameOverAmazing: "ƒêi·ªÉm s·ªë tuy·ªát v·ªùi!",
        gameOverPerfect: "Tr√≤ ch∆°i ho√†n h·∫£o!",
        startGame: "B·∫Øt ƒê·∫ßu Ch∆°i",
        restart: "Kh·ªüi ƒê·ªông L·∫°i",
        pause: "T·∫°m D·ª´ng",
        resume: "Ti·∫øp T·ª•c",
        hide: "·∫®n",
        show: "Hi·ªán",
        
        // Controls section
        controlsTitle: "ƒêi·ªÅu Khi·ªÉn",
        moveSnake: "Di Chuy·ªÉn R·∫Øn",
        alternativeMovement: "Di Chuy·ªÉn Thay Th·∫ø",
        pauseResume: "T·∫°m D·ª´ng/Ti·∫øp T·ª•c",
        restartGame: "Kh·ªüi ƒê·ªông L·∫°i",
        
        // Settings section
        settingsTitle: "C√†i ƒê·∫∑t",
        darkMode: "T·ªëi",
        lightMode: "S√°ng",
        language: "Ng√¥n Ng·ªØ",
        speed: "T·ªëc ƒê·ªô",
        gridSize: "K√≠ch Th∆∞·ªõc L∆∞·ªõi",
        small: "Nh·ªè",
        medium: "Trung B√¨nh",
        large: "L·ªõn",
        sound: "√Çm Thanh",
        theme: "Ch·ªß ƒê·ªÅ",
        classic: "C·ªï ƒêi·ªÉn",
        dark: "T·ªëi",
        neon: "Neon",
        
        // Scoreboard
        scoreboardTitle: "üèÜ B·∫£ng X·∫øp H·∫°ng",
        rank: "H·∫°ng",
        playerName: "Ng∆∞·ªùi Ch∆°i",
        points: "ƒêi·ªÉm",
        date: "Ng√†y",
        enterName: "Nh·∫≠p t√™n c·ªßa b·∫°n:",
        anonymous: "·∫®n Danh",
        clearScores: "X√≥a ƒêi·ªÉm",
        noScoresYet: "Ch∆∞a c√≥ ƒëi·ªÉm n√†o. Ch∆°i m·ªôt tr·∫≠n ƒë·ªÉ b·∫Øt ƒë·∫ßu!",
        
        // Game stats
        gameStats: "Th·ªëng K√™ Tr√≤ Ch∆°i",
        gamesPlayed: "S·ªë Tr·∫≠n ƒê√£ Ch∆°i",
        totalScore: "T·ªïng ƒêi·ªÉm",
        averageScore: "ƒêi·ªÉm Trung B√¨nh",
        bestStreak: "Chu·ªói Th·∫Øng T·ªët Nh·∫•t",
        timeSpent: "Th·ªùi Gian Ch∆°i",
        
        // Achievements
        achievements: "Th√†nh T·ª±u",
        firstGame: "Tr·∫≠n ƒê·∫ßu Ti√™n",
        score100: "C√¢u L·∫°c B·ªô TrƒÉm ƒêi·ªÉm",
        score500: "Cao Th·ªß",
        score1000: "B·∫≠c Th·∫ßy R·∫Øn SƒÉn M·ªìi",
        noDeaths: "Ng∆∞·ªùi S·ªëng S√≥t",
        speedDemon: "√Åc Qu·ª∑ T·ªëc ƒê·ªô"
    },
    
    zh: {
        // Game UI
        title: "üêç Ë¥™ÂêÉËõáÊ∏∏Êàè",
        score: "ÂæóÂàÜ",
        highScore: "ÊúÄÈ´òÂàÜ",
        level: "Á≠âÁ∫ß",
        
        // Overlay messages
        welcomeTitle: "Ê¨¢ËøéÊù•Âà∞Ë¥™ÂêÉËõáÔºÅ",
        welcomeMessage: "‰ΩøÁî®ÊñπÂêëÈîÆÊàñWASDÁßªÂä®",
        gameOverTitle: "Ê∏∏ÊàèÁªìÊùüÔºÅ",
        finalScore: "ÊúÄÁªàÂæóÂàÜÔºö{score}",
        newHighScore: "üéâ Êñ∞ÁöÑÊúÄÈ´òÂàÜÔºÅüéâ",
        readyTitle: "ÂáÜÂ§áÂ•Ω‰∫ÜÂêóÔºü",
        pausedTitle: "ÊöÇÂÅú",
        pausedMessage: "ÊåâÁ©∫Ê†ºÈîÆÁªßÁª≠",
        
        // Game Over Modal
        gameOverTitle: "Ê∏∏ÊàèÁªìÊùü!",
        finalScore: "ÊúÄÁªàÂæóÂàÜ",
        gameTime: "Ê∏∏ÊàèÊó∂Èó¥",
        newAchievement: "Êñ∞ÊàêÂ∞±!",
        newHighScore: "Êñ∞Á∫™ÂΩï!",
        congratulations: "ÊÅ≠Âñú!",
        viewScoreboard: "Êü•ÁúãÊéíË°åÊ¶ú",
        shareScore: "ÂàÜ‰∫´",
        playAgain: "ÂÜçÁé©‰∏ÄÊ¨°",
        
        // Simple Name Input Modal
        enterYourName: "ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêç",
        gameOverScore: "ÊÇ®ÁöÑÂæóÂàÜ:",
        enterNamePlaceholder: "ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêç...",
        submit: "Êèê‰∫§",
        skip: "Ë∑≥Ëøá",
        
        // Game Over Messages
        gameOverGood: "‰∏çÈîôÁöÑÊ∏∏Êàè!",
        gameOverGreat: "Âπ≤ÂæóÂ•Ω!",
        gameOverAmazing: "ÊÉä‰∫∫ÁöÑÂàÜÊï∞!",
        gameOverPerfect: "ÂÆåÁæéÊ∏∏Êàè!",
        startGame: "ÂºÄÂßãÊ∏∏Êàè",
        restart: "ÈáçÊñ∞ÂºÄÂßã",
        pause: "ÊöÇÂÅú",
        resume: "ÁªßÁª≠",
        hide: "ÈöêËóè",
        show: "ÊòæÁ§∫",
        
        // Controls section
        controlsTitle: "ÊéßÂà∂",
        moveSnake: "ÁßªÂä®Ëõá",
        alternativeMovement: "Êõø‰ª£ÁßªÂä®",
        pauseResume: "ÊöÇÂÅú/ÁªßÁª≠",
        restartGame: "ÈáçÊñ∞ÂºÄÂßã",
        
        // Settings section
        settingsTitle: "ËÆæÁΩÆ",
        darkMode: "Ê∑±Ëâ≤",
        lightMode: "ÊµÖËâ≤",
        language: "ËØ≠Ë®Ä",
        speed: "ÈÄüÂ∫¶",
        gridSize: "ÁΩëÊ†ºÂ§ßÂ∞è",
        small: "Â∞è",
        medium: "‰∏≠",
        large: "Â§ß",
        sound: "Â£∞Èü≥",
        theme: "‰∏ªÈ¢ò",
        classic: "ÁªèÂÖ∏",
        dark: "ÊöóËâ≤",
        neon: "ÈúìËôπ",
        
        // Scoreboard
        scoreboardTitle: "üèÜ ÊéíË°åÊ¶ú",
        rank: "ÊéíÂêç",
        playerName: "Áé©ÂÆ∂",
        points: "ÂàÜÊï∞",
        date: "Êó•Êúü",
        enterName: "ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêçÔºö",
        anonymous: "ÂåøÂêç",
        clearScores: "Ê∏ÖÈô§ÂàÜÊï∞",
        noScoresYet: "ËøòÊ≤°ÊúâÂàÜÊï∞„ÄÇÂºÄÂßãÊ∏∏ÊàèÂêßÔºÅ",
        
        // Game stats
        gameStats: "Ê∏∏ÊàèÁªüËÆ°",
        gamesPlayed: "Ê∏∏ÊàèÊ¨°Êï∞",
        totalScore: "ÊÄªÂàÜ",
        averageScore: "Âπ≥ÂùáÂàÜ",
        bestStreak: "ÊúÄ‰Ω≥ËøûËÉú",
        timeSpent: "Ê∏∏ÊàèÊó∂Èó¥",
        
        // Achievements
        achievements: "ÊàêÂ∞±",
        firstGame: "È¶ñÊ¨°Ê∏∏Êàè",
        score100: "ÁôæÂàÜ‰ø±‰πêÈÉ®",
        score500: "È´òÂàÜÁé©ÂÆ∂",
        score1000: "Ë¥™ÂêÉËõáÂ§ßÂ∏à",
        noDeaths: "ÁîüÂ≠òËÄÖ",
        speedDemon: "ÈÄüÂ∫¶ÊÅ∂È≠î"
    }
};

// Language utility class
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('snakeGameLanguage') || 'en';
        this.translations = languages;
        
        // Set initial HTML lang attribute
        document.documentElement.lang = this.currentLanguage;
    }
    
    setLanguage(langCode) {
        if (this.translations[langCode]) {
            this.currentLanguage = langCode;
            localStorage.setItem('snakeGameLanguage', langCode);
            
            // Set HTML lang attribute for better accessibility and styling
            document.documentElement.lang = langCode;
            
            this.updateUI();
        }
    }
    
    getText(key, params = {}) {
        let text = this.translations[this.currentLanguage]?.[key] || 
                   this.translations['en'][key] || 
                   key;
        
        // Replace parameters in text
        Object.keys(params).forEach(param => {
            text = text.replace(`{${param}}`, params[param]);
        });
        
        return text;
    }
    
    updateUI() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = this.getText(key);
        });
        
        // Update placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            element.placeholder = this.getText(key);
        });
        
        // Update titles
        document.querySelectorAll('[data-i18n-title]').forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.title = this.getText(key);
        });
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    getAvailableLanguages() {
        return Object.keys(this.translations);
    }
    
    getLanguageName(langCode) {
        const names = {
            'en': 'English',
            'es': 'Espa√±ol',
            'fr': 'Fran√ßais',
            'de': 'Deutsch',
            'vi': 'Ti·∫øng Vi·ªát',
            'zh': '‰∏≠Êñá'
        };
        return names[langCode] || langCode;
    }
}

// Export for use in other files
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { languages, LanguageManager };
}
